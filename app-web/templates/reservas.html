<!-- Breadcrumbs & Page title-->

{% extends 'base.html' %} 
{%block title%} Reservas {%endblock title%} 
{%block content%}
<section class="section-md text-center bg-image breadcrumbs-02">
  <div class="shell shell-fluid">
    <div class="range range-xs-center">
      <div class="cell-xs-12 cell-xl-11">
        <h2 class="text-white">Reservas</h2>
        <ul class="breadcrumbs-custom">
          <li><a href="{{url_for('index')}}">Inicio</a></li>
          <li class="active">Reservas</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<section class="section section-md bg-white text-center">
  <div class="shell">
    <div class="range range-50 range-md-center">
      <div class="cell-sm-8">
        <div class="contact-box">
          <h3>Consultá tu reserva</h3>
          <p>En Flask Seasons estamos disponible todos los días para vos. <br />Visualizá tus reservas por nuestra página web o por nuestra aplicación completando los siguientes datos.</p>
          {%if reserva %}
          <form class="rd-mailform form-info-reserva" method="post">
            <input type="hidden" name="reserva" value="{{reserva}}" />
            <div class="range range-sm-bottom spacing-20">
              <div class="cell-sm-6 cell-form">
                <p class="label-form-reserva">Nombre</p>
                <div class="form-wrap">
                  <p class="form-input">{{reserva.nombre}}</p>
                </div>
              </div>
              <div class="cell-sm-6 cell-form">
                <p class="label-form-reserva">Apellido</p>
                <div class="form-wrap">
                  <p class="form-input">{{reserva.apellido}}</p>
                </div>
              </div>
              <div class="cell-sm-6 cell-form">
                <p class="label-form-reserva">Número de reserva</p>
                <div class="form-wrap">
                  <p class="form-input">{{reserva.numero_reserva}}</p>
                </div>
              </div>
              <div class="cell-sm-6 cell-form">
                <p class="label-form-reserva">Documento de identidad</p>
                <div class="form-wrap">
                  <p class="form-input">{{reserva.dni}}</p>
                </div>
              </div>
              <div class="cell-xl-12 cell-md-12 cell-sm-12 cell-form">
                <p class="label-form-reserva">Hotel</p>
                <div class="form-wrap">
                  <p class="form-input">{{reserva.hotel_nombre}}</p>
                </div>
              </div>
              <hr class="divider divider-left divider-custom" />
              <div class="cell-sm-6">
                <p class="label-form-reserva">Fecha de entrada (*)</p>
                <div class="form-wrap">
                  <label class="form-label form-label-icon" style="opacity: 1 !important;" for="inicio_reserva"><span class="icon icon-primary fa-calendar" ></span><span class="black-grey"></span></label>
                  <input
                    class="form-input black-grey"
                    id="inicio_reserva"
                    data-time-picker="date"
                    type="text"
                    name="inicio_reserva"
                    data-constraints="@Required"
                    role="button"
                    placeholder="{{reserva.inicio_reserva}}"
                    style="padding-left: 5rem;"
                  />
                  <!-- <p class="form-input fecha">{{reserva.inicio_reserva}}</p> -->
                </div>
              </div>
              <div class="cell-sm-6">
                <p class="label-form-reserva">Fecha de salida (*)</p>
                <div class="form-wrap">
                  <label class="form-label form-label-icon" style="opacity: 1 !important;" for="fin_reserva"><span class="icon icon-primary fa-calendar"></span><span class="black-grey"></span></label>
                  <input
                    class="form-input black-grey"
                    id="fin_reserva"
                    data-time-picker="date"
                    type="text"
                    name="fin_reserva"
                    data-constraints="@Required"
                    role="button"
                    placeholder="{{reserva.fin_reserva}}"
                    style="padding-left: 5rem;"
                  />
                  <!-- <p class="form-input fecha">{{reserva.inicio_reserva}}</p> -->
                </div>
              </div>
              <p style="font-size: small">*Los cambios de fecha estarán sujetos a disponibilidad del hotel.</p>
              <hr class="divider divider-left divider-custom" />

              <div class="cell-xl-12 cell-md-12 cell-sm-12 boton-container-reserva">
                {% include 'error.html' %}
                <button class="button button-primary button-square button-block" formaction="{{url_for('cancelar_reserva')}}" type="submit"><span>Cancelar</span></button>
                <button class="button button-primary button-square button-block" formaction="{{url_for('modificar_reserva')}}" type="submit"><span>Modificar</span></button>
              </div>
            </div>
          </form>
          {% else %}
          <form class="rd-mailform" method="post" action="{{url_for('reservas')}}">
            <div class="range range-sm-bottom spacing-20 form-reserva">
              <div class="cell-xl-12 cell-md-12 cell-sm-12 cell-form">
                <p class="label-form-reserva">Documento de identidad</p>
                <div class="form-wrap">
                  <input class="form-input" id="identity-document" type="text" name="dni" data-constraints="@Numeric @Required" autocomplete="on" />
                  <label class="form-label" for="identity-document">Número</label>
                </div>
              </div>
              <div class="cell-xl-12 cell-md-12 cell-sm-12 cell-form">
                <p class="label-form-reserva">Número de reserva</p>
                <div class="form-wrap">
                  <input class="form-input" id="booking-number" type="text" name="numero_reserva" data-constraints="@Numeric @Required" autocomplete="on" />
                  <label class="form-label" for="booking-number">Número</label>
                </div>
              </div>
              <div class="cell-xl-12 cell-md-12 cell-sm-12 boton-container-reserva">
                {% include 'error.html' %}
                <button class="button button-primary button-square button-block button-effect-ujarak" type="submit"><span>Consultar</span></button>
              </div>
            </div>
          </form>
          {% endif %}
        </div>
      </div>
      <div class="cell-sm-4">
        <aside class="contact-box-aside text-left">
          <div class="range range-50">
            <div class="cell-xs-6 cell-sm-12">
              <p class="aside-title">Descargá nuestra aplicación</p>
              <hr class="divider divider-left divider-custom" />
              <div class="unit unit-middle unit-horizontal unit-spacing-xs unit-xs-top">
                <div class="unit__left"><span class="text-middle icon icon-sm fa fa-android icon-primary"></span></div>
                <div class="unit__body"><a class="text-middle link link-gray-dark" href="#" target="_blank">Solo para dispositivos Android</a></div>
              </div>
            </div>
            <div class="cell-xs-6 cell-sm-12">
              <p class="aside-title">Consultá por teléfono</p>
              <hr class="divider divider-left divider-custom" />
              <div class="unit unit-middle unit-horizontal unit-spacing-xs unit-xs-top">
                <div class="unit__left"><span class="text-middle icon icon-sm mdi mdi-phone icon-primary"></span></div>
                <div class="unit__body"><a class="text-middle link link-gray-dark" href="https://wa.me/541152850586" target="_blank">+54 1152850586</a></div>
              </div>
            </div>
            <div class="cell-xs-6 cell-sm-12">
              <p class="aside-title">Dirección</p>
              <hr class="divider divider-left divider-custom" />
              <div class="unit unit-middle unit-horizontal unit-spacing-xs unit-xs-top">
                <div class="unit__left"><span class="text-middle icon icon-sm mdi mdi-map-marker icon-primary"></span></div>
                <div class="unit__body">
                  <a class="text-middle link link-gray-dark" href="http://maps.google.com/?q=avenida+paseo+colon+850" target="_blank">Avenida Paseo Colón 850, C.A.B.A., C1063ACV</a>
                </div>
              </div>
            </div>
            <div class="cell-xs-6 cell-sm-12">
              <p class="aside-title">Horarios de apertura</p>
              <hr class="divider divider-left divider-custom" />
              <div class="unit unit-middle unit-horizontal unit-spacing-xs unit-xs-top">
                <div class="unit__left"><span class="text-middle icon icon-sm mdi mdi-clock icon-primary"></span></div>
                <div class="unit__body text-gray-darker">
                  <p>Todos los días de 08:00 – 20:00hs</p>
                </div>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </div>
</section>

{% if error %}
<script>
  document.querySelector('.text-error-message').scrollIntoView();
</script>
{% endif %} 

{% if reserva %}
<script>
  document.querySelector('.form-info-reserva').scrollIntoView();
  $('#inicio_reserva').on('change', function (event, date) {
    $('#fin_reserva').bootstrapMaterialDatePicker('setMinDate', moment(date).format('YYYY-MM-DD'))
    $('#fin_reserva').bootstrapMaterialDatePicker('setDate', moment(date).format('YYYY-MM-DD'));
    $('#fin_reserva').val( moment(date).format('YYYY-MM-DD'));
  });
</script>
{% endif %} 
{%endblock content%}
